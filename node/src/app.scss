body, html {
  overscroll-behavior-y: none;
  overscroll-behavior-x: none;
  &.no-scroll {
    overflow:hidden;
  }
}

#hous4-16-18 {
  margin-left:auto;
  margin-right:auto;
  margin-top:50px;
  position:relative;
  overscroll-behavior: none;
  .race-ethnicity-click {
    cursor:pointer;
    &:hover {
      text-decoration: underline;
    }
  }
  .picker-race-ethnicity {
    display:none;
  }
  .picker-race-ethnicity > ul {
    &.do-not-hide-picker {
      display:block;
    }
  }
  .picker-open-self {
    position:absolute;
    top:10px;
    left:10px;
    z-index:499;
    cursor:pointer;
    font-size:11pt;
    padding:3px;
    background-color:#eee;
    border:1px solid #aaa;
    &:hover {
      background-color:#ccc;
    }
  }
  .zoom-buttons {
    display:inline-block;
    position:relative;
    top:60px;
    z-index:30;
    font-weight:bold;
    & > * {
      display:block;
      margin-bottom:1em;
      width:100px;
      font-weight:bold;
      font-family:inherit;
    }
  }
  .pickers {
    .racial-density-instructions {
      position:absolute;
      color:#000;
      background-color: #fff;
      padding:10px;
      border:1px solid #666;
      left:50px;
      width:200px;
      top:30px;
      box-shadow: -5px 5px 5px #666;
      display:none;
      z-index:120;
      a {
        font-size:14pt;
        display:block;
        margin-top:1em;
        &:hover {
          background-color: #ccc;
        }
        color:#000;
        border:2px solid #666;
        border-radius:5px;
        text-align:center;
        padding:5px;
      }
      &:before {
        content: "";
        display: block;
        width: 30px;
        height: 30px;
        border-left: 1px solid #666;
        border-bottom: 1px solid #666;
        transform: rotate(45deg);
        position: absolute;
        left: -16px;
        top: 5.5px;
        background-color: #fff;
      }
      span {
        position:relative;
      }
    }
    max-width:250px;
    font-size:10pt;
    line-height:14pt;
    z-index:500;
    font-family:"proxima-nova",sans-serif;
    &.hide-while-zoom {
      display:none;
    }
    .picker-close-self {
      position:absolute;
      right:0px;
      top:0px;
      cursor:pointer;
      z-index:100;
      padding:20px;
      &:hover {
        background-color: #ccc;
      }
      & > span {
        position:absolute;
        right:10px;
        top:5px;
        font-size:18px;
      }

    }
    .picker-wrapper {
      margin-bottom:0.5em;
      position:relative;
      label {
        display:block;
        font-weight:bold;
      }
      label, select, .autocomplete_wrap {
        margin-left:5pt;
        margin-right:5pt;
      }
      label, select {
        z-index:110;
      }
      .autocomplete_wrap {
        z-index:500;
      }
      select:not([multiple]) {
        max-width:150px;
        & > option {
          max-width:100px;
        }
      }
      .safmr_config {
        label, input[type='checkbox'] {
          display:inline-block;
        }
        input[type='checkbox'] {
          margin-left:0;
          position:relative;
          top:2px;
        }
      }
      .select-all-none {
        margin-left:10px;
        a:hover {
          text-decoration: underline;
        }
      }
      ul[name='additional-dot-layers-checkboxes'] {
        list-style-type:none;
        margin-left:0;
        padding-left:0;
        margin-top:0;
        .ethnicity-legend-box {
          display:inline-block;
          width:12px;
          height:12px;
          margin-right:5px;
          position:absolute;
          top:4px;
          left:25px;
        }
        li {
          margin:0;
          padding:0; 
          position:relative;
        }
        input {
          position:absolute; 
          top:0em;
          left:5px;
        }
        label {
          position:relative;
          margin-left:40px;
          font-weight:400;
        }
      }
    }
    select, option, input {
      font-family:inherit;
      font-weight:inherit;
      font-size:inherit;
    }
    position:relative;
    background-color: rgba(250, 242, 240, 0.95);
    border:1px solid #ddd;
    padding:10px;
  }
  .map-outer-lightbox {
    position:fixed;
    overscroll-behavior: none;
    background-color: rgba(0, 0, 0, 0.5);
    width:100%;
    height:100%;
    top:0;
    left:0;
    visibility:hidden
  }
  .map-inner-lightbox {
    position:absolute;
    top:2px;
    left:2px;
    right:2px;
    bottom:2px;
    background-color:#fff;
    border-radius: 2px;
    padding:2px;
  }
  .map-viewport-outer {
    position:absolute;
    width:100%;
    height:100%;
    top:0;
    left:0;
    //padding-bottom:56.25%;
    & > div {
      border:1px solid #aaa;
      overflow:hidden;
      position:absolute;
      height:100%;
      width:100%;
      & > .transparency-container {
        opacity: 1;
        transition: opacity 0.3s;
        & > svg {
          position:absolute;
          width:100%;
          height:100%;
          top:0;
          left:0;
          &.main-svg {mix-blend-mode: multiply;}
          &.inverted-svg, &.text-svg {pointer-events: none;}
        }
        & > canvas {
          position:absolute;
          width:100%;
          height:100%;
          top:0;
          left:0;
          pointer-events:none;
          transition: opacity 0.2s;
        }
      }
    } 
  }
  svg.text-svg {
    font-family:"proxima-nova-condensed",sans-serif;
    user-select: none;
    .text-stroke{ 
      stroke:rgba(255, 255, 255, 0.7);
      stroke-width:4px;
    }
    .text-fill { fill:#000;}
    text {
      text-anchor:middle;
      dominant-baseline:middle;
      user-select: none;
    }
    g.hide-place {
      display:none;
    }
    g.place.country {

    }
    g.place.state {
      text-transform: uppercase;
      font-style:italic;
      font-size:14pt;
    }
    g.place.city {
      font-size:14pt;
    }
    g.place.town {
      font-size:12pt;
    }
    g.place.village {
      font-size:10pt;
    }
    g.place.hamlet {
      font-size:9pt;
    }
    g.place.suburb {
      font-size:12pt;
      text { fill:#555; }
      text-transform: uppercase;
    }
    g.place.neighbourhood {

      font-size:10pt;
      text { fill:#555; }
      text-transform: uppercase;
    }
    g.place.locality {
      font-size:8pt;
      text { fill:#555; }
      text-transform: uppercase;
    }
  }
  .tileLayer {
    position:relative;
    user-select:none;
    pointer-events: none;
    mix-blend-mode: multiply;
    img {
      position:absolute;
      width:256px;
      height:256px;
    }
  }
  /*svg path.tract,
  g.cbsa_group {
    mix-blend-mode: multiply;
  }*/
  g.cbsa-group {
    overflow: visible;
  }
  svg path.tract {
    transition: fill 0.2s;
    cursor:pointer;
  }
  svg path.tract.hovered {
    //stroke:#a00;
    //stroke-width:2px;
    filter: contrast(80%) brightness(80%);
  }
  circle.dot {
    pointer-events:none;
  }
  .tooltip-container {
    position:absolute;
    width:0;
    height:0;
    overflow:visible;
    z-index:999;
    .tract_tooltip {
      position:relative;
      width:0;
      height:0;
      overflow:visible;
    }
    .tooltip-inner {
      border: 1px solid rgba(0, 0, 0, 0.5);
      background-color: rgba(255, 255, 255, 0.95);
      padding:10px;
      position:absolute;
      p, ul {
        margin-bottom:0;
      }
      h3 {
        text-align:center;
        margin-bottom:5px;
      }
      div.hover-data-item {
        display:flex;
        line-height:1;
        &:not(.no-border) {
          border-bottom:1px solid #aaa;
          padding-bottom:0.2em;
          margin-bottom:0.2em;
        }
      }
      span.hover-data-value {
        text-align:right;
        flex-grow:1;
        padding-right:4px;
      }
      .hover-data-label {
        text-align:left;
        font-weight:bold;
        flex-basis:300px;
        text-indent:-10px;
        padding-left:10px;
      }
      tr:nth-child(2n) {
        td {
          background-color: #eee;
        }
      }
      td {
        padding-top:2px;
        padding-bottom:2px;
      }
      td:first-child {
        padding-left:10px;
      }
      td:last-child {
        padding-right:4px;
      }
    }
  }

  .legend-container {
    font-size:16pt;
    position:absolute;
    left:0;
    right:0;
    text-align:center;
    .legend-position {
      text-align:left;
      display:inline-block;
      max-width:100%;
      border:2px solid #aaa;
      background-color: rgba(250, 242, 240, 0.95);
      padding:10px;
    }
    bottom:20px;
    
    @media (max-width: 620px) {
      font-size:12pt;
      bottom:0px;
    }
    z-index:10;
    font-family:"proxima-nova-condensed",sans-serif;
    user-select:none;
    //pointer-events: none;
    min-height:50px;
    &.hide-while-zoom {
      display:none;
    }
    & > * {
      position:relative;
      z-index:20;
    }
    .legend-bins-wrapper {
      & > label {
        display:block;
        text-align:center;
        margin-top:-0.5em;
        position:relative;
        &.label-offset {
          right:20vw;
        }
        font-weight:bold;
      }
    }
    .legend-bins-inner {
      height:60px;
      width:600px;
      position:relative;
    }
    @media (max-width: 620px) {
      .legend-bins-inner {
        width:300px;
      }
    }
    .legend-bin {
      display:inline-block;
      position:absolute;
      .legend-bin-label {
        display:inline-block;
        position:relative;
        top:20px;
        
        @media (max-width: 620px) {
          font-size:12pt;
          top:15px;
          
        }
      }
      label {
        position:relative;
        left:-50%;
      }
      svg {
        height:20px;
        width:100%;
        position:absolute;
      } 
    }
    .voucher-indicator, .safmr-indicator {
      margin-bottom:0.3em;
      display:inline-block;
      font-weight:bold;
    }
    .voucher-square {
      background-color: rgba(111, 66, 245, 0.8);
      border: 2px solid rgba(255, 255, 255, 0.8);
    }
    .voucher-indicator > div {
      width:18px;
      height:18px;
      position:relative;
      overflow:visible;
      display:none;
      svg {
        width:150%;
        height:150%;
        position:absolute;
        top:-37.5%;
        left:-25%;
      }
    }
    .voucher-circle, .safmr-circle {
      display:inline-block;
      background-color: rgba(111, 66, 245, 0.8);
      border-radius:50%;
    }
    .voucher-circle {
      background-color: rgba(111, 66, 245, 0.8);
      border: 2px solid rgba(255, 255, 255, 0.8);
    }
    .safmr-circle {
      width:14px;
      height:14px;
      margin:2px;
      background-color: rgba(111, 66, 245, 0.4);
      border:0px;
    }
    .ethnicity-legend {
      line-height:1.2;
      background-color: rgba(255, 255, 255, 0.5);
      padding:0.3em 0.5em;
      font-size:14pt;
      @media (max-width: 620px) {
        font-size:10pt;
      }
    }
    .ethnicity-label {
      margin-right:10px;
      margin-bottom:0;
      text-align:center;
      display:block;
      font-weight:bold;
    }
    .eth-legend-inner {
      display:inline-block;
      margin-top:0;
    }
    .eth-legend-item {
      display:inline-block;
      margin-right:15px;
      vertical-align: middle;
      & > * {
        vertical-align: middle;

      }
      svg {
        width:14px;
        height:14px;
        margin-right:2px;
      }
    }
    .hud-poc-note {
      position:absolute;
      width:50%;
      left:50%;
      top:5em;
      text-align:center;
      .hud-poc-note-inner {
        max-width:33vw;
        margin-left:auto;
        margin-right:auto;
        display:block;
        position:relative;
        line-height:1;
        @media (max-width:620px) {
          font-size:10pt;
        }
      }
      .hud-note-hover {
        cursor: pointer;
        .hud-not-hover-text {
          opacity:0;
          cursor: text;
          line-height:1.3;
          pointer-events:none;
          transition-property: opacity;
          transition-duration: 0.2s;
          position:absolute;
          bottom:100%;
          right:0;
          background-color: #000;
          padding:0.5em;
          color:#fff;
          width:33vw;
          min-width:200px;
          max-width:400px;
          text-align:left;
          font-family:"proxima-nova";
          font-size:12pt;
        }
        &:hover {
          .hud-not-hover-text {
            opacity:1;
            pointer-events:all;
          }
        }
      }
      .hud-note-left-bracket,
      .hud-note-right-bracket {
        width:calc(50% - 16.666vw);
        position:absolute;
        top:0;
        height:0.8em;
        border-bottom:1px solid #000;
      }
      .hud-note-left-bracket {
        left:0;
        border-left:1px solid #000;
      }
      .hud-note-right-bracket {
        right:0;
        border-right:1px solid #000;
      }
    }
  }
  .tract_tooltip {
    font-size:12pt;
    line-height:14pt;
    font-family:"proxima-nova",sans-serif;
    h3 {
      color:inherit;
      font-size:14pt;
      line-height:16pt;
      margin:0;
    }
    ul, li {
      margin:0;
      padding:0;
      list-style-type:none;
    }
    table {
      font-size:10pt;
      line-height:1;
      border-collapse:collapse;
      width:100%;
      td {padding: 0; border: 0; margin:0};
      td:last-child {
        text-align:right;
      }
    }
  }

  .map-close-lightbox {
    position:absolute;
    top:2.5%;
    right:2.5%;
    background-color: #a00;
    color:#fff;
    border-radius:50%;
    text-align:center;
    padding:10px;
    width:30px;
    height:30px;
    line-height:30px;
    cursor:pointer;
    &:hover {
      background-color:#600;
    }
    span {
      position:absolute;
      top:0;
      left:7.5px;
      text-align:center;
      overflow:visible;
    }
  }

  .autocomplete_wrap {
    display:inline-block;
    position:relative;
    width:90%;
    max-width:300px;
    input {
      width:100%;
      padding-right:15px;
    }
    .down-arrow-autocomplete {
      position:absolute;
      right:5px;
      top:2px;
    }
  }

  .autocomplete_options {
    list-style-type:none;
    margin:0;
    position:absolute;
    width:100%;
    top:30px;
    padding:0px;
    font-size:11pt;
    max-height:70vh;
    z-index:999;
    border:1px solid #aaa;
    overflow-y:auto;
    li {
      list-style-type:none;
      margin-left:0;
      padding:5px;
      padding-left:10px;
      margin:0;
      line-height:1;
      text-indent:-5px;
      cursor:pointer;
      background-color: #fff;
      &.selected-autocomplete {
        background-color: #eee;
      }
      &:hover {
        background-color: #eee;
      }
    }
  }

}

.hous4-16-18-loading-blocker {
  position:fixed;
  top:0;
  left:0;
  right:0;
  bottom:0;
  text-align:center;
  background-color: rgba(255, 255, 255, 0.6);
  padding-top:calc(50vh - 100px);
  mix-blend-mode:multiply;
  img {
    display:inline;
  }
}